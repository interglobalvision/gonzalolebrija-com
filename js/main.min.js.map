{"version":3,"sources":["main.js"],"names":["animationSpeed","Site","mobileThreshold","init","_this","this","ObraSidebar","Filters","bind","ExhibitionFilters","Header","Mobile","Gallery","GridHovers","$","window","resize","onResize","hasClass","layoutForObra","isMobile","width","obraSidebar","$obraSidebar","imagesLoaded","fixObraSidebar","height","heightToMatch","perfectScrollbarInitiated","perfectScrollbar","suppressScrollX","$links","$posts","event","type","currentTarget","dataset","filter","removeClass","addClass","fadeIn","hide","Submenus","close","$exhibtionFilters","on","click","$this","target","data","debounceSpeed","threshold","$body","headerHeight","scrollTop","bindScroll","showHide","Debounce","lastScroll","addEventListener","fixHeight","Menu","open","show","css","transform","innerHeight","Swiper","undefined","$captionHolder","effect","loop","spaceBetween","nextButton","prevButton","preloadImages","lazyLoading","lazyLoadingInPrevNext","pagination","paginationType","paginationCustomRender","swiper","current","total","onClick","slideNext","onSlideChangeEnd","caption","html","minHeight","outerHeight","min-height","$hoverElements","mousemove","e","$title","siblings","first","display","top","clientY","left","clientX","mouseout","jQuery","document","ready","each","string","replace"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Modernizr, Site, Swiper, animationSpeed */\nconst animationSpeed = 300;\n\nSite = {\n  mobileThreshold: 1008,\n  init: function() {\n    var _this = this;\n\n    _this.ObraSidebar.init();\n    _this.Filters.bind();\n    _this.ExhibitionFilters.init();\n    _this.Header.init();\n    _this.Mobile.init();\n    _this.Gallery.init();\n    _this.GridHovers.init();\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    _this.ObraSidebar.onResize();\n    _this.Mobile.onResize();\n\n    if ($('body').hasClass('single-obra')) {\n      _this.Gallery.layoutForObra();\n    }\n  },\n\n  isMobile: function() {\n    var _this = this;\n\n    if ($(window).width() <= _this.mobileThreshold) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n};\n\nSite.ObraSidebar = {\n  init: function() {\n    var _this = this;\n\n    if ($('body').hasClass('single-obra') || $('body').hasClass('post-type-archive-obra')) {\n      _this.obraSidebar = true;\n      _this.$obraSidebar = $('#obra-archive-submenu');\n      if (!Site.isMobile()) {\n        $('#main-content').imagesLoaded(function() {\n          _this.fixObraSidebar();\n        });\n      }\n    }\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if (_this.obraSidebar && !Site.isMobile()) {\n      _this.fixObraSidebar();\n    }\n  },\n\n  fixObraSidebar: function() {\n    var _this = this;\n\n    _this.$obraSidebar.height(0);\n\n    var heightToMatch = $('#main-content').height();\n\n    _this.$obraSidebar.height(heightToMatch);\n\n    if (!_this.perfectScrollbarInitiated) {\n      _this.$obraSidebar.perfectScrollbar({\n        suppressScrollX: true,\n      });\n      _this.perfectScrollbarInitiated = true;\n    }\n  },\n};\n\nSite.Filters = {\n  bind: function() {\n    var _this = this;\n    var $links = $('.filters a');\n    var $posts = $('.filtered-content');\n\n    if($links) {\n      $links.bind('click', function(event) {\n\n        // Get filter type clicked\n        var type = event.currentTarget.dataset.filter;\n\n        // If clicked on active, reset filter\n        if( !$(this).hasClass('active') ) {\n          $links.removeClass('active');\n\n          // Reset All\n          if( type === 'all' ) {\n            $('[data-filter=\"all\"]').addClass('active');\n            $posts.fadeIn();\n          } else {\n          // Else, apply filter\n            $(this).addClass('active');\n\n            // Hide everything then fade in the filtred posts\n            $posts.hide().filter('[data-filter-type=\"' + type + '\"]').fadeIn(animationSpeed);\n\n            // If mobile close submenu\n            if (Site.isMobile()) {\n              Site.Mobile.Submenus.close();\n            }\n          }\n        }\n      });\n    }\n  },\n};\n\nSite.ExhibitionFilters = {\n  init: function() {\n    var _this = this;\n\n    if ($('body').hasClass('single-exposiciones')) {\n      _this.bind();\n    }\n\n  },\n\n  bind: function() {\n    var $exhibtionFilters = $('.exposicion-filter');\n\n    $exhibtionFilters.on({\n      click: function() {\n        var $this = $(this);\n        var target = $this.data('target');\n\n        $exhibtionFilters.removeClass('active');\n        $this.addClass('active');\n\n        $('.exposicion-content').removeClass('active');\n        $('#exposicion-' + target).addClass('active');\n      },\n    });\n  },\n};\n\n// Show/Hide header on scroll\nSite.Header = {\n  debounceSpeed: 10,\n  threshold: 1.1,\n\n  init: function() {\n    var _this = this;\n    var $body = $('body');\n\n    if ( $body.hasClass('home') ) {\n      _this.headerHeight = $('#home-header').height();\n\n      // Initial check\n      if ( $(window).scrollTop() > _this.headerHeight * _this.threshold ) {\n        $body.addClass('state-scrolled');\n      } else {\n        $body.removeClass('state-scrolled');\n      }\n\n      _this.bindScroll();\n    }\n  },\n\n  showHide: function() {\n    var _this = this;\n\n    return Debounce( function () {\n      var scrollTop = $(this).scrollTop();\n      var $body = $('body');\n\n      if ( scrollTop >= _this.headerHeight * _this.threshold) {\n        $body.addClass('state-scrolled');\n      } else {\n        $body.removeClass('state-scrolled');\n      }\n\n      _this.lastScroll = scrollTop;\n\n    }, _this.debounceSpeed);\n  },\n\n  bindScroll: function() {\n    var _this = this;\n\n    window.addEventListener('scroll', _this.showHide());\n  },\n};\n\nSite.Mobile = {\n  init: function() {\n    var _this = this;\n\n    _this.bind();\n    _this.Submenus.fixHeight();\n\n  },\n\n  bind: function() {\n    var _this = this;\n\n     // MAIN MENU\n    $('.mobile-menu-open').on({\n      click: function() {\n        _this.Menu.open();\n      },\n    });\n\n    $('.mobile-menu-close').on({\n      click: function() {\n        _this.Menu.close();\n      },\n    });\n\n    // SUBMENUS\n    $('#mobile-submenu-open').on({\n      click: function() {\n        _this.Submenus.open();\n      },\n    });\n\n    $('#mobile-submenu-close').on({\n      click: function() {\n        _this.Submenus.close();\n      },\n    });\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    _this.Submenus.fixHeight();\n\n  },\n\n  Menu: {\n    open: function() {\n      $('#mobile-active-menu').show();\n    },\n\n    close: function() {\n      $('#mobile-active-menu').hide();\n    },\n  },\n\n  Submenus: {\n    open: function() {\n      $('#mobile-archive-submenu').css({\n        'transform': 'translateX(0%)',\n      });\n      $('#mobile-submenu-open').css('visibility', 'hidden');\n    },\n\n    close: function() {\n      $('#mobile-archive-submenu').css({\n        'transform': 'translateX(-100%)',\n      });\n      $('#mobile-submenu-open').css('visibility', 'visible');\n    },\n\n    fixHeight: function() {\n\n      $('#mobile-submenu-main').css({\n        'height': ($(window).height() - $('#mobile-submenu-header').innerHeight()) + 'px',\n      });\n\n    },\n  },\n};\n\nSite.Gallery = {\n  Swiper: undefined,\n  $captionHolder: undefined,\n  init: function() {\n    var _this = this;\n\n    _this.$captionHolder = $('#swiper-caption-holder');\n\n    _this.Swiper = new Swiper ('.swiper-container', {\n      effect: 'slide',\n      loop: true,\n      spaceBetween: 24,\n      nextButton: '.js-gallery-next',\n      prevButton: '.js-gallery-prev',\n      preloadImages: false,\n      lazyLoading: true,\n      lazyLoadingInPrevNext: true,\n\n      pagination: '#single-work-gallery-pagination',\n      paginationType: 'custom',\n      paginationCustomRender: function (swiper, current, total) {\n        return '<span id=\"gallery-index-active\">' + current + '</span> / <span id=\"gallery-index-length\">' + total + '</span>';\n      },\n\n      onClick: function(swiper) {\n        swiper.slideNext();\n      },\n\n      onSlideChangeEnd: function(swiper) {\n        var caption = $('.swiper-slide-active .swiper-caption').html();\n\n        _this.$captionHolder.html(caption);\n      },\n    });\n\n    if ($('body').hasClass('single-obra')) {\n      _this.layoutForObra();\n    }\n\n  },\n\n  layoutForObra: function() {\n    var _this = this;\n    var minHeight = 480;\n\n    if (!Site.isMobile()) {\n\n      var headerHeight = $('#single-work-header').outerHeight(true);\n\n      $('#single-work-copy').css({\n        'min-height': (minHeight - headerHeight) + 'px',\n      });\n\n      $('.swiper-wrapper').css({\n        'min-height': minHeight + 'px',\n      });\n\n    }\n  },\n};\n\nSite.GridHovers = {\n  init: function() {\n    var _this = this;\n\n    _this.$hoverElements = $('.attachment-hover-grid-thumb, .attachment-hover-grid-thumb-small');\n\n    _this.$hoverElements.on({\n      mousemove: function(e) {\n        var $title = $(this).siblings('.hover-grid-title').first();\n\n        // If mobile dont\n        if (!Site.isMobile()) {\n          $title.css({\n            display: 'block',\n            top: e.clientY + 15,\n            left: e.clientX + 15,\n          });\n        }\n\n      },\n\n      mouseout: function() {\n        var $title = $(this).siblings('.hover-grid-title').first();\n\n        $title.hide();\n      },\n    });\n  },\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  // utility class mainly for use on headines to avoid widows [single words on a new line]\n  $('.js-fix-widows').each(function(){\n    var string = $(this).html();\n\n    string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n    $(this).html(string);\n  });\n\n  Site.init();\n\n});"],"sourceRoot":"/source/"}