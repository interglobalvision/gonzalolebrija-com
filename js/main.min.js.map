{"version":3,"sources":["main.js"],"names":["Site","init","_this","this","Header","Gallery","debounceSpeed","threshold","$body","$","hasClass","headerHeight","height","window","scrollTop","addClass","removeClass","bindScroll","showHide","Debounce","lastScroll","addEventListener","Swiper","undefined","loop","preloadImages","lazyLoading","lazyLoadingInPrevNext","nextButton","prevButton","onInit","swiper","html","slides","length","setActive","activeIndex","onSlideChangeEnd","onClick","slideNext","jQuery","document","ready","each","string","replace"],"mappings":"AAGAA,MACEC,KAAM,WACJ,GAAIC,GAAQC,IAEZD,GAAME,OAAOH,OACbC,EAAMG,QAAQJ,SAMlBD,KAAKI,QACHE,cAAe,GACfC,UAAW,IAEXN,KAAM,WACJ,GAAIC,GAAQC,KACRK,EAAQC,EAAE,OAETD,GAAME,SAAS,UAClBR,EAAMS,aAAeF,EAAE,gBAAgBG,SAGlCH,EAAEI,QAAQC,YAAcZ,EAAMS,aAAeT,EAAMK,UACtDC,EAAMO,SAAS,kBAEfP,EAAMQ,YAAY,kBAGpBd,EAAMe,eAIVC,SAAU,WACR,GAAIhB,GAAQC,IAEZ,OAAOgB,UAAU,WACf,GAAIL,GAAYL,EAAEN,MAAMW,YACpBN,EAAQC,EAAE,OAETK,IAAaZ,EAAMS,aAAeT,EAAMK,UAC3CC,EAAMO,SAAS,kBAEfP,EAAMQ,YAAY,kBAGpBd,EAAMkB,WAAaN,GAElBZ,EAAMI,gBAGXW,WAAY,WACV,GAAIf,GAAQC,IAEZU,QAAOQ,iBAAiB,SAAUnB,EAAMgB,cAI5ClB,KAAKK,SACHiB,OAAQC,OACRtB,KAAM,WACJ,GAAIC,GAAQC,IAEZD,GAAMoB,OAAS,GAAIA,QAAQ,qBACzBE,MAAM,EACNC,eAAe,EACfC,aAAa,EACbC,uBAAuB,EACvBC,WAAY,mBACZC,WAAY,mBACZC,OAAQ,SAASC,GACftB,EAAE,yBAAyBuB,KAAKD,EAAOE,OAAOC,OAAS,GACvDhC,EAAMiC,UAAUJ,EAAOK,cAGzBC,iBAAkB,SAASN,GACzB7B,EAAMiC,UAAUJ,EAAOK,cAGzBE,QAAS,SAASP,GAChBA,EAAOQ,gBAMbJ,UAAW,SAASC,GAClB3B,EAAE,yBAAyBuB,KAAKI,KAIpCI,OAAOC,UAAUC,MAAM,WACrB,YAGAjC,GAAE,kBAAkBkC,KAAK,WACvB,GAAIC,GAASnC,EAAEN,MAAM6B,MAErBY,GAASA,EAAOC,QAAQ,YAAY,YACpCpC,EAAEN,MAAM6B,KAAKY,KAGf5C,KAAKC","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Modernizr, Debounce, Swiper, Site */\n\nSite = {\n  init: function() {\n    var _this = this;\n\n    _this.Header.init();\n    _this.Gallery.init();\n  },\n\n};\n\n// Show/Hide header on scroll\nSite.Header = {\n  debounceSpeed: 10,\n  threshold: 1.1,\n\n  init: function() {\n    var _this = this;\n    var $body = $('body');\n\n    if ( $body.hasClass('home') ) {\n      _this.headerHeight = $('#home-header').height();\n\n      // Initial check\n      if ( $(window).scrollTop() > _this.headerHeight * _this.threshold ) {\n        $body.addClass('state-scrolled');\n      } else {\n        $body.removeClass('state-scrolled');\n      }\n\n      _this.bindScroll();\n    }\n  },\n\n  showHide: function() {\n    var _this = this;\n\n    return Debounce( function () {\n      var scrollTop = $(this).scrollTop();\n      var $body = $('body');\n\n      if ( scrollTop >= _this.headerHeight * _this.threshold) {\n        $body.addClass('state-scrolled');\n      } else {\n        $body.removeClass('state-scrolled');\n      }\n\n      _this.lastScroll = scrollTop;\n\n    }, _this.debounceSpeed);\n  },\n\n  bindScroll: function() {\n    var _this = this;\n\n    window.addEventListener('scroll', _this.showHide());\n  },\n};\n\nSite.Gallery = {\n  Swiper: undefined,\n  init: function() {\n    var _this = this;\n\n    _this.Swiper = new Swiper ('.swiper-container', {\n      loop: true,\n      preloadImages: false,\n      lazyLoading: true,\n      lazyLoadingInPrevNext: true,\n      nextButton: '.js-gallery-next',\n      prevButton: '.js-gallery-prev',\n      onInit: function(swiper) {\n        $('#gallery-index-length').html(swiper.slides.length - 2);\n        _this.setActive(swiper.activeIndex);\n      },\n\n      onSlideChangeEnd: function(swiper) {\n        _this.setActive(swiper.activeIndex);\n      },\n\n      onClick: function(swiper) {\n        swiper.slideNext();\n      },\n    });\n\n  },\n\n  setActive: function(activeIndex) {\n    $('#gallery-index-active').html(activeIndex);\n  },\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  // utility class mainly for use on headines to avoid widows [single words on a new line]\n  $('.js-fix-widows').each(function(){\n    var string = $(this).html();\n\n    string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n    $(this).html(string);\n  });\n\n  Site.init();\n\n});\n"],"sourceRoot":"/source/"}