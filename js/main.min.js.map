{"version":3,"sources":["main.js"],"names":["animationSpeed","Site","mobileThreshold","init","_this","this","ObraSidebar","ObraInfinite","Filters","bind","ExhibitionFilters","Header","Mobile","Gallery","GridHovers","$","window","resize","onResize","hasClass","layoutForObra","isMobile","width","obraSidebar","$obraSidebar","imagesLoaded","fixObraSidebar","height","heightToMatch","perfectScrollbarInitiated","perfectScrollbar","suppressScrollX","postsPerPage","$trigger","click","loadMore","slice","removeClass","length","remove","$links","$posts","event","type","currentTarget","dataset","filter","addClass","fadeIn","hide","Submenus","close","$exhibtionFilters","on","$this","target","data","debounceSpeed","threshold","$body","headerHeight","scrollTop","bindScroll","showHide","Debounce","lastScroll","addEventListener","fixHeight","Menu","open","show","css","transform","innerHeight","Swiper","undefined","$captionHolder","effect","loop","spaceBetween","nextButton","prevButton","preloadImages","lazyLoading","lazyLoadingInPrevNext","pagination","paginationType","paginationCustomRender","swiper","current","total","onClick","slideNext","onSlideChangeEnd","caption","html","minHeight","outerHeight","min-height","$hoverElements","mousemove","e","$title","siblings","first","display","top","clientY","left","clientX","mouseout","jQuery","document","ready","each","string","replace"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Modernizr, Site, Swiper, animationSpeed */\nconst animationSpeed = 300;\n\nSite = {\n  mobileThreshold: 1008,\n  init: function() {\n    var _this = this;\n\n    _this.ObraSidebar.init();\n    _this.ObraInfinite.init();\n    _this.Filters.bind();\n    _this.ExhibitionFilters.init();\n    _this.Header.init();\n    _this.Mobile.init();\n    _this.Gallery.init();\n    _this.GridHovers.init();\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    _this.ObraSidebar.onResize();\n    _this.Mobile.onResize();\n\n    if ($('body').hasClass('single-obra')) {\n      _this.Gallery.layoutForObra();\n    }\n  },\n\n  isMobile: function() {\n    var _this = this;\n\n    if ($(window).width() <= _this.mobileThreshold) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n};\n\nSite.ObraSidebar = {\n  init: function() {\n    var _this = this;\n\n    if ($('body').hasClass('single-obra') || $('body').hasClass('post-type-archive-obra')) {\n      _this.obraSidebar = true;\n      _this.$obraSidebar = $('#obra-archive-submenu');\n      if (!Site.isMobile()) {\n        $('#main-content').imagesLoaded(function() {\n          _this.fixObraSidebar();\n        });\n      }\n    }\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if (_this.obraSidebar && !Site.isMobile()) {\n      _this.fixObraSidebar();\n    }\n  },\n\n  fixObraSidebar: function() {\n    var _this = this;\n\n    _this.$obraSidebar.height(0);\n\n    var heightToMatch = $('#main-content').height();\n\n    _this.$obraSidebar.height(heightToMatch);\n\n    if (!_this.perfectScrollbarInitiated) {\n      _this.$obraSidebar.perfectScrollbar({\n        suppressScrollX: true,\n      });\n      _this.perfectScrollbarInitiated = true;\n    }\n  },\n};\n\nSite.ObraInfinite = {\n  postsPerPage: 9,\n\n  init: function() {\n    var _this = this;\n\n    if ($('body').hasClass('post-type-archive-obra')) {\n      _this.$trigger = $('#works-lazy-loader');\n      _this.bind();\n    }\n  },\n\n  bind: function() {\n    var _this = this;\n\n    _this.$trigger.click(function() {\n      _this.loadMore();\n    });\n  },\n\n  loadMore: function() {\n    var _this = this;\n\n    $('.pseudo-lazy-work').slice(0, _this.postsPerPage).removeClass('pseudo-lazy-work');\n\n    if ($('.pseudo-lazy-work').length === 0) {\n      _this.$trigger.remove();\n    }\n\n    Site.ObraSidebar.onResize();\n  },\n};\n\nSite.Filters = {\n  bind: function() {\n    var _this = this;\n    var $links = $('.filters a');\n    var $posts = $('.filtered-content');\n\n    if($links) {\n      $links.bind('click', function(event) {\n\n        // Get filter type clicked\n        var type = event.currentTarget.dataset.filter;\n\n        // If clicked on active, reset filter\n        if( !$(this).hasClass('active') ) {\n          $links.removeClass('active');\n\n          // Reset All\n          if( type === 'all' ) {\n            $('[data-filter=\"all\"]').addClass('active');\n            $posts.fadeIn();\n          } else {\n          // Else, apply filter\n            $(this).addClass('active');\n\n            // Hide everything then fade in the filtred posts\n            $posts.hide().filter('[data-filter-type=\"' + type + '\"]').fadeIn(animationSpeed);\n\n            // If mobile close submenu\n            if (Site.isMobile()) {\n              Site.Mobile.Submenus.close();\n            }\n          }\n        }\n      });\n    }\n  },\n};\n\nSite.ExhibitionFilters = {\n  init: function() {\n    var _this = this;\n\n    if ($('body').hasClass('single-exposiciones')) {\n      _this.bind();\n    }\n\n  },\n\n  bind: function() {\n    var $exhibtionFilters = $('.exposicion-filter');\n\n    $exhibtionFilters.on({\n      click: function() {\n        var $this = $(this);\n        var target = $this.data('target');\n\n        $exhibtionFilters.removeClass('active');\n        $this.addClass('active');\n\n        $('.exposicion-content').removeClass('active');\n        $('#exposicion-' + target).addClass('active');\n      },\n    });\n  },\n};\n\n// Show/Hide header on scroll\nSite.Header = {\n  debounceSpeed: 10,\n  threshold: 1.1,\n\n  init: function() {\n    var _this = this;\n    var $body = $('body');\n\n    if ( $body.hasClass('home') ) {\n      _this.headerHeight = $('#home-header').height();\n\n      // Initial check\n      if ( $(window).scrollTop() > _this.headerHeight * _this.threshold ) {\n        $body.addClass('state-scrolled');\n      } else {\n        $body.removeClass('state-scrolled');\n      }\n\n      _this.bindScroll();\n    }\n  },\n\n  showHide: function() {\n    var _this = this;\n\n    return Debounce( function () {\n      var scrollTop = $(this).scrollTop();\n      var $body = $('body');\n\n      if ( scrollTop >= _this.headerHeight * _this.threshold) {\n        $body.addClass('state-scrolled');\n      } else {\n        $body.removeClass('state-scrolled');\n      }\n\n      _this.lastScroll = scrollTop;\n\n    }, _this.debounceSpeed);\n  },\n\n  bindScroll: function() {\n    var _this = this;\n\n    window.addEventListener('scroll', _this.showHide());\n  },\n};\n\nSite.Mobile = {\n  init: function() {\n    var _this = this;\n\n    _this.bind();\n    _this.Submenus.fixHeight();\n\n  },\n\n  bind: function() {\n    var _this = this;\n\n     // MAIN MENU\n    $('.mobile-menu-open').on({\n      click: function() {\n        _this.Menu.open();\n      },\n    });\n\n    $('.mobile-menu-close').on({\n      click: function() {\n        _this.Menu.close();\n      },\n    });\n\n    // SUBMENUS\n    $('#mobile-submenu-open').on({\n      click: function() {\n        _this.Submenus.open();\n      },\n    });\n\n    $('#mobile-submenu-close').on({\n      click: function() {\n        _this.Submenus.close();\n      },\n    });\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    _this.Submenus.fixHeight();\n\n  },\n\n  Menu: {\n    open: function() {\n      $('#mobile-active-menu').show();\n    },\n\n    close: function() {\n      $('#mobile-active-menu').hide();\n    },\n  },\n\n  Submenus: {\n    open: function() {\n      $('#mobile-archive-submenu').css({\n        'transform': 'translateX(0%)',\n      });\n      $('#mobile-submenu-open').css('visibility', 'hidden');\n    },\n\n    close: function() {\n      $('#mobile-archive-submenu').css({\n        'transform': 'translateX(-100%)',\n      });\n      $('#mobile-submenu-open').css('visibility', 'visible');\n    },\n\n    fixHeight: function() {\n\n      $('#mobile-submenu-main').css({\n        'height': ($(window).height() - $('#mobile-submenu-header').innerHeight()) + 'px',\n      });\n\n    },\n  },\n};\n\nSite.Gallery = {\n  Swiper: undefined,\n  $captionHolder: undefined,\n  init: function() {\n    var _this = this;\n\n    _this.$captionHolder = $('#swiper-caption-holder');\n\n    _this.Swiper = new Swiper ('.swiper-container', {\n      effect: 'slide',\n      loop: true,\n      spaceBetween: 24,\n      nextButton: '.js-gallery-next',\n      prevButton: '.js-gallery-prev',\n      preloadImages: false,\n      lazyLoading: true,\n      lazyLoadingInPrevNext: true,\n\n      pagination: '#single-work-gallery-pagination',\n      paginationType: 'custom',\n      paginationCustomRender: function (swiper, current, total) {\n        return '<span id=\"gallery-index-active\">' + current + '</span> / <span id=\"gallery-index-length\">' + total + '</span>';\n      },\n\n      onClick: function(swiper) {\n        swiper.slideNext();\n      },\n\n      onSlideChangeEnd: function(swiper) {\n        var caption = $('.swiper-slide-active .swiper-caption').html();\n\n        _this.$captionHolder.html(caption);\n      },\n    });\n\n    if ($('body').hasClass('single-obra')) {\n      _this.layoutForObra();\n    }\n\n  },\n\n  layoutForObra: function() {\n    var _this = this;\n    var minHeight = 480;\n\n    if (!Site.isMobile()) {\n\n      var headerHeight = $('#single-work-header').outerHeight(true);\n\n      $('#single-work-copy').css({\n        'min-height': (minHeight - headerHeight) + 'px',\n      });\n\n      $('.swiper-wrapper').css({\n        'min-height': minHeight + 'px',\n      });\n\n    }\n  },\n};\n\nSite.GridHovers = {\n  init: function() {\n    var _this = this;\n\n    _this.$hoverElements = $('.attachment-hover-grid-thumb, .attachment-hover-grid-thumb-small');\n\n    _this.$hoverElements.on({\n      mousemove: function(e) {\n        var $title = $(this).siblings('.hover-grid-title').first();\n\n        // If mobile dont\n        if (!Site.isMobile()) {\n          $title.css({\n            display: 'block',\n            top: e.clientY + 15,\n            left: e.clientX + 15,\n          });\n        }\n\n      },\n\n      mouseout: function() {\n        var $title = $(this).siblings('.hover-grid-title').first();\n\n        $title.hide();\n      },\n    });\n  },\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  // utility class mainly for use on headines to avoid widows [single words on a new line]\n  $('.js-fix-widows').each(function(){\n    var string = $(this).html();\n\n    string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n    $(this).html(string);\n  });\n\n  Site.init();\n\n});\n"],"sourceRoot":"/source/"}